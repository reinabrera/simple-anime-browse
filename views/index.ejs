<%- include('partials/header.ejs') %>

  <div class="hero">
    <div class="container">
      <div id="carouselExampleIndicators" class="carousel slide">
        <div class="carousel-inner">
          <% topAiring.forEach((item, index) => { %>
            <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
              <div class="row">
                <div class="col-6">
                  <ul class="genres">
                    <% item['genres'].forEach((genre) => { %>
                      <li class="<%= genre['name'].toLowerCase() %>"><%= genre['name'] %></li>
                    <% }) %>
                  </ul>
                  <h2 class="display-3 text-light"><%= item.title %></h2>
                  <% if (item.trailer['url']) { %>
                    <a href="<%= item.trailer['url'] %>" target="_blank" class="trailer-btn">
                      <div class="svg-border">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
                          <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
                        </svg> 
                      </div>
                    WATCH TRAILER</a>
                  <% } %>
                  <div class="details mt-3 text-light">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg> 
                    <p class="m-0"><%= item.score %>/10 <%= item.duration != 'Unknown' ? " • " + item.duration : '' %> <%= ' • ' + item.rating %></p>
                  </div>
                </div>
                <div class="col-6">
                  <div class="image--wrapper">
                    <img src="<%= item.images.jpg['image_url'] %>">
                  </div>
                </div>
              </div>
            </div>
          <% }) %>
    
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  
  </div>

  <div class="multi-carousel">
    <div class="container pb-5 pt-5">
      <h3 class="title text-light text-uppercase">Top Upcoming Anime</h3>
      <div class="c-carousel mt-4">
        <ul id="" class="c-carousel-inner d-flex">
          <% upcomingAnime.forEach((item, index) => { %>
          <li class="c-carousel-item item-<%= index + 1 %> col-2">
            <div class="wrapper  position-relative">
              <div class="vignette position-absolute d-flex flex-column justify-content-end px-3 py-4">
                <p class="text-light mb-0"><%= item.title %></p>
                <% if (item.score) { %>
                <div class="score d-flex align-items-center mt-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg> 
                  <p class="text-light m-0"><span><%= item.score %></span>/10</p>
                </div>
                <% } %>
              </div>
              <a draggable="false"><img src="<%= item.images.jpg['image_url'] %>"   draggable="false" alt="..."></a>
            </div>
          </li>
          <% }) %>
        </ul>
        <button data-direction="left" class="c-carousel-control" type="button">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button data-direction="right" class="c-carousel-control" type="button">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>
    </div>    
  </div>

  <div class="multi-carousel">
    <div class="container pb-5 pt-5">
      <h3 class="title text-light text-uppercase">Top Anime of the Past 365 Days</h3>
      <div class="c-carousel mt-4">
        <ul id="" class="c-carousel-inner d-flex">
          <% topLastYear.forEach((item, index) => { %>
          <li class="c-carousel-item item-<%= index + 1 %> col-2">
            <div class="wrapper  position-relative">
              <div class="vignette position-absolute d-flex flex-column justify-content-end px-3 py-4">
                <p class="text-light mb-0"><%= item.title %></p>
                <% if (item.score) { %>
                <div class="score d-flex align-items-center mt-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg> 
                  <p class="text-light m-0"><span><%= item.score %></span>/10</p>
                </div>
                <% } %>
              </div>
              <a draggable="false"><img src="<%= item.images.jpg['image_url'] %>"   draggable="false" alt="..."></a>
            </div>
          </li>
          <% }) %>
        </ul>
        <button data-direction="left" class="c-carousel-control" type="button">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button data-direction="right" class="c-carousel-control" type="button">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>
    </div>    
  </div>


<%- include('partials/footer.ejs') %>